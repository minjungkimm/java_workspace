--------조프로젝트 ---------------------
-채팅시스템
--클라이언트가 상품에 대한 이미지를 보고자한다
서버가 클라이언트에게 계속 전송해서 본다?
영화가 2만 오천건이면, 과연? 2만오천건 전부 서버가 보낸다?
말이 안된다..

--채팅나가기 하면 어떻게 서버에 전달할 것인가? 확인할 것인가?

--상태정보를 나뿐만아니라 다른 클라이언트도 알아야한다
그 주체는 서버, 서버에게 알려줘야한다.

--로그인 시
1. 서버를 통해- ip가 존재하는 오라클 통해서?
2. ip가 존재하는 오라클로 바로?

나랑 같이 존재하는 타 클라이언트를 위해서, 서버를 통해서
나의 존재를 알려야한다.

--길 (클라이언트-서버 통하는 길)
이 길을 통해서 로그인 시도할지? 대화를 시도할지?

--서버가 모든 상황을 전부 판단하고 알고있어야 한다.

--아이디/패스워드도 스트림이다

--스트림으로 길을 타고 가지만, 이것이 대화인지? 로그인시도인지? 아이템 구매를 원하는건지?
핵심적인 업무타입은 클라이언트가 결정해서 보내고, 서버가 알아들어야 하므로
둘다 알아야 한다.

--원격지와 보내는 쪽이 서로 약속을 하는 것 = 프로토콜
ex.위험신호를 보내는쪽과 받는쪽이 그 신호에 대해서 서로 알고있다.

--호텔 서비스용품 이미지를 다운받지말고
인터넷만 연결되어있다면, 이미지가 존재하는 url 을 당겨와서 넣자

--------------------------------------오늘의 수업주제
1. 어플리케이션에 사용되는 자주 변경되는 제품
이미지는 클라이언트가 보유해야 하는가? 
서버가 보유하고 있다가 클라이언트에 보내줘야 하는지? 
(보유하면, 업데이트가 어렵다. 
서버에서 받아온다. 주소만 안다면)

--> 이미지를 소켓으로 보내야 한다? NO
이 이미지는 웹서버에 있어서 당겨와야 한다.

Java EE = 웹

2. 웹서버에 대해서?

제어판 - 프로그램 - 프로그램 및 기능 - 기능켜기/끄기
-인터넷정보서비스 (IIS) 확장 열어보기 
-  1.FTP 서버, 2.world wide web 서비스 3.웹 관리 도구,
 세 개 전부선택하기!! - 완료

-내 컴퓨터 - 관리 - 서비스 및 응용 - IIS 생겼는지 확인
-연결 창에서 USER-PC 
밑으로 응용프로그램 풀/사이트 존재하는지 확인

-사이트 클릭해보면 바인딩 컬럼에 내용이 *.80 이라고 뜬다.
-사이트에서 Default Web Site 클릭해보면 - <작업> 에 관리창이 더 길어진다.
-웹 사이트 관리창에서 중지 눌러보자

-Default Web Site 에 대고 오른쪽마우스 클릭 - 탐색 
-> 폴더뜬다(C:\inetpub\wwwroot)

* 내 짝의 웹서버에 있는 자원을 접근하는 방법
http://짝꿍ip/이미지명

211.238.142.109

-다시 오른쪽 마우스 - 사용권한편집 클릭 - 보안 - IIS_IUSRS 이라는 권한이 있는지
확인
(아까 중지해놓은 관리, 시작으로 다시 해놓고하기)

------------------------------------------------------

자바분야에서 사용되는 웹서버
http://apache.org

들어가서 project - tomcat 들어가기
다운로드 - tomcat 8 클릭

Core: 64-bit Windows zip 클릭

루트 : bin,lib 등을 안고있는 직전 폴더를 루트 라고 한다.

bin - 쉬프트 오른쪽 클릭 - 여기서 cmd 창 열기 - 서버를 키는
startup 치고 엔터 - 서버가 켜진다 

인터넷창 localhost:8080 쳐서 내 서버에 내가 접속해보자

(오라클이 8080을 이미 사용하고있어서)
인터넷창에 localhost:8080 쳐서 내 서버로 접속안되니깐,
포트번호 바꿔버리자

다운받은 톰캣 폴더 - conf - server.xml 파일을 에딧플러스로 열기
--파일의 69번 라인의 포트번호 : 9090 으로 수정

--설정이 바뀐거니, 서버 껐다 새로 키자 
C:\apache-tomcat-8.5.13\bin 에서 쉬프트 cmd 창 키기
- startup 쳐서..

--인터넷창에 http://localhost:9090/ 다시쳐보면 톰캣홈페이지 뜬다

--내 컴퓨터 내에 디렉토리 만들자 - 서버로 만들자
C:\myServer
- 위 경로복사
- 이제 이 위치를 톰캣에게 서버인것을 알려주자

- 아까 server.xml 파일에서 148라인으로 가면
웹서버에 대한 설정영역이 존재
149번 이후 150번 라인에

<Context path="" docBase="C:\myServer" reloadable="true"></Context>

--이제 myserver 는 웹서버가 되었다.

내서버로 들어가면 넣는 이미지가 뜬다.

--오늘 만든 내 톰캣 서버는 이미지만을 담을 것이고,
우리의 채팅서버와 무관하다.

--다량의 이미지를 빠르게 당겨와보자

http://localhost:9090/data/a.jpg



 
------------------------------------------------------------
오후

-접속하기 위해 필요한 것
Socket socket;
String ip="localhost";
int port=7878;

나와 피시방 아저씨만 알면된다 = 다른 사람들은 몰라도 된다 , 유니캐스팅 필요없다

requestType이란? 프로토콜 , 우리끼리 정한 약속
(ex.피방주인 아저씨와 손님인 나 사이의)

-------------------- XML 에 대해서 배워보자--------------------
텍스트 기반의 데이터베이스

XML - 의미 중심
HTML - 디자인 중심 

DBMS / XML - 차이
표로 만들어짐 , 태그안에 들어감

현실에 대한 객체를 표현할 때
JSON Vs XML 로 표현할 수 있다 

JSON : 
   클래스 명 
{"employees":[ //대괄호안에 배열을 넣음, 그안에 데이터 3개 
    { "firstName":"John", "lastName":"Doe" },
    { "firstName":"Anna", "lastName":"Smith" },
    { "firstName":"Peter", "lastName":"Jones" }
]}

JSON 작성법 연습-------------------------
자바스크립트에서 클래스 만들때--
var Mario=function(){
	
}

그러나 JSON 은 데이터만을 담기위한 표기법이라서
이름이 필요없다 (재사용성 없다)
특징: 변수에 = 을 쓰지않는다,:을 쓴다, DTO랑 닮아있다.
//JavaScript 로 Object 객체를 Notation 표기했다
// 자바스크립트 객체 표기법 (언어가아니다!!!!! 표기법이다!!!!)  
{
   "name":"긍열",
   "age":20,
   "gender":"여", 
}

전 세계 개발자들은 우리만의 약속은 못알아들어도,
JSON 은 알아듣는다!

{
   "requestType":"chat",
   "msg":"안녕하세요?",
   "id":"batman", 
}

장점 : 공신력이 생길뿐 아니라, 지원하는 객체가 생긴다.



